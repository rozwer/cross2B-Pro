{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/your-org/claude-making/options.schema.json",
  "title": "Claude Code Project Options",
  "description": ".claude-making のプロジェクト設定スキーマ",
  "type": "object",
  "required": ["project", "options"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSONスキーマ参照"
    },
    "$comment": {
      "type": "string",
      "description": "コメント"
    },
    "project": {
      "type": "object",
      "description": "プロジェクト基本情報",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "プロジェクト名",
          "minLength": 1,
          "pattern": "^[a-zA-Z0-9_-]+$"
        },
        "description": {
          "type": "string",
          "description": "プロジェクトの説明"
        },
        "tech_stack": {
          "type": "object",
          "description": "技術スタック",
          "properties": {
            "backend": {
              "type": "string",
              "description": "バックエンド技術",
              "enum": ["fastapi", "django", "flask", "express", "nestjs", "go", "rust", "none", ""]
            },
            "frontend": {
              "type": "string",
              "description": "フロントエンド技術",
              "enum": ["nextjs", "react", "vue", "svelte", "angular", "none", ""]
            },
            "database": {
              "type": "string",
              "description": "データベース",
              "enum": ["postgresql", "mysql", "mongodb", "redis", "sqlite", "none", ""]
            },
            "infrastructure": {
              "type": "string",
              "description": "インフラ技術",
              "enum": ["docker", "kubernetes", "aws", "gcp", "vercel", "none", ""]
            }
          }
        },
        "domain": {
          "type": "string",
          "description": "ドメイン/ビジネス領域",
          "examples": ["ecommerce", "saas", "cms", "api-service", "data-pipeline"]
        }
      }
    },
    "options": {
      "type": "object",
      "description": "オプション設定",
      "properties": {
        "use_codex": {
          "type": "boolean",
          "description": "OpenAI Codex CLI を使用するか",
          "default": false
        },
        "use_temporal": {
          "type": "boolean",
          "description": "Temporal ワークフローを使用するか",
          "default": false
        },
        "workflow_framework": {
          "type": "string",
          "description": "ワークフローフレームワーク",
          "enum": ["langgraph", "langchain", "crewai", "autogen", "none", ""],
          "default": ""
        },
        "orchestrator": {
          "type": "string",
          "description": "オーケストレーター",
          "enum": ["temporal", "celery", "airflow", "prefect", "none", ""],
          "default": ""
        },
        "llm_provider": {
          "type": "string",
          "description": "LLM プロバイダー",
          "enum": ["openai", "anthropic", "google", "azure", "multiple", ""],
          "default": ""
        },
        "multi_tenant": {
          "type": "boolean",
          "description": "マルチテナント対応か",
          "default": false
        },
        "use_docker": {
          "type": "boolean",
          "description": "Docker を使用するか",
          "default": true
        },
        "git_strategy": {
          "type": "string",
          "description": "Git ブランチ戦略",
          "enum": ["gitflow", "trunk-based", "github-flow"],
          "default": "gitflow"
        }
      }
    },
    "plugins": {
      "type": "object",
      "description": "Claude Code プラグイン設定",
      "properties": {
        "claude_mem": {
          "type": "boolean",
          "description": "claude-mem プラグインを使用するか",
          "default": true
        },
        "claude_code_harness": {
          "type": "boolean",
          "description": "claude-code-harness プラグインを使用するか",
          "default": true
        },
        "superpowers": {
          "type": "boolean",
          "description": "superpowers プラグインを使用するか",
          "default": true
        },
        "pr_review_toolkit": {
          "type": "boolean",
          "description": "pr-review-toolkit プラグインを使用するか",
          "default": false
        }
      }
    },
    "_examples": {
      "type": "object",
      "description": "選択肢の例（参照用、バリデーション対象外）"
    }
  },
  "additionalProperties": false
}

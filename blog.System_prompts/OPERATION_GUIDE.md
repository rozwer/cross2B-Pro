# SEO記事自動生成システム 運用ガイド (Ver8.3)

**更新日**: 2026-01-08
**対象読者**: 実際にシステムを操作する方

---

## 1. 全体フロー図

```mermaid
graph TD
    User((User)) -->|ヒアリング回答| Step0[工程0: キーワード選定]
    Step0 -->|KW・設定| Step1[工程1: 競合記事取得<br>(GAS)]
    Step0 -->|関連KW| Step1_5[工程1.5: 関連KW競合取得<br>(GAS)]

    Step1 -->|CSV| Step2[工程2: CSV読込・初期化]
    Step1_5 -->|CSV複数| Step2
    Step0 -->|設定| Step2

    subgraph Analysis [分析フェーズ (並列処理可)]
        Step2 --> Step3A[工程3A: クエリ分析]
        Step2 --> Step3B[工程3B: 共起語抽出]
        Step2 --> Step3C[工程3C: 競合分析]
    end

    Analysis --> Step3_5[工程3.5: 人間味・感情生成]

    Step3_5 --> Step4[工程4: 戦略的アウトライン]
    Step4 --> Step5[工程5: 一次情報・知識ギャップ]
    Step5 --> Step6[工程6: アウトライン強化]
    Step6 --> Step6_5[工程6.5: 構成案作成<br>(★10ファイル上限)]

    Step6_5 --> Step7A[工程7A: 本文初稿]
    Step7A --> Step7B[工程7B: ブラッシュアップ]
    Step7B --> Step8[工程8: ファクトチェック]
    Step8 --> Step9[工程9: 品質向上]
    Step9 --> Step10[工程10: 最終出力]

    Step10 --> Step11[工程11: 画像提案]
    Step10 --> Step12[工程12: HTML生成]
    Step12 --> Blog[WordPress公開]
```

---

## 2. 工程フェーズ概要

| フェーズ | 工程 | 概要 |
|---------|------|------|
| **準備** | 0, 1, 1.5, 2 | キーワード決定、競合記事収集、データ整備 |
| **分析** | 3A, 3B, 3C, 3.5 | ペルソナ深掘り、SEOキーワード抽出、競合分析、人間味生成 |
| **構成** | 4, 5, 6, 6.5 | アウトライン作成、一次情報追加、構成案完成 |
| **執筆** | 7A, 7B | 本文初稿、ブラッシュアップ |
| **仕上げ** | 8, 9, 10, 11, 12 | ファクトチェック、リライト、最終出力、画像、HTML化 |

---

## 3. 工程別添付ファイルリスト（保存版）

各工程を開始する際に、以下のファイルをチャットに添付してください。

### Phase 1: 準備

| 工程 | 添付ファイル | 出力ファイル |
|-----|-------------|-------------|
| **0** | なし（プロンプトに回答入力） | `工程0_キーワード選定結果.json` |
| **1** | なし（GAS実行） | `工程1_1.1統合_上位10サイト競合記事本文.csv` |
| **1.5** | ①工程0.json ②GAS出力CSV（複数可） | `工程1.5_関連KW競合抽出.json` |
| **2** | ①工程0.json ②工程1.csv ③工程1.5.json | なし（レポートのみ） |

### Phase 2: 分析

| 工程 | 添付ファイル | 出力ファイル |
|-----|-------------|-------------|
| **3A** | ①工程0.json ②工程1.csv | `工程3A_クエリ分析結果.json` |
| **3B** | ①工程0.json ②工程1.csv | `工程3B_共起語抽出結果.json` |
| **3C** | ①工程0.json ②工程1.csv | `工程3C_競合分析結果.json` |
| **3.5** | ①工程0.json ②工程1.csv ③工程1.5.json ④工程3A.json ⑤工程3B.json ⑥工程3C.json | `工程3.5_人間味.json` |

### Phase 3: 構成

| 工程 | 添付ファイル | 出力ファイル |
|-----|-------------|-------------|
| **4** | 工程3.5と同じ6ファイル + ⑦工程3.5.json | `工程4_戦略的アウトライン.json` |
| **5** | 工程4と同じ7ファイル + ⑧工程4.json | `工程5_一次情報収集結果.json` |
| **6** | 工程5と同じ8ファイル + ⑨工程5.json | `工程6_アウトライン強化版.json` |
| **6.5** | **★全10ファイル（上限）**<br>①工程0.json ②工程1.csv ③工程1.5.json ④工程3A.json ⑤工程3B.json ⑥工程3C.json ⑦工程3.5.json ⑧工程4.json ⑨工程5.json ⑩工程6.json | `工程6.5_構成案.md` |

### Phase 4: 執筆（※直接参照方式に切替）

| 工程 | 添付ファイル | 出力ファイル |
|-----|-------------|-------------|
| **7A** | ①工程0.json ②工程3A.json ③工程3B.json ④工程3C.json ⑤工程3.5.json ⑥工程5.json ⑦工程6.json ⑧工程6.5.md | `工程7A_本文初稿.md` |
| **7B** | ①工程3.5.json ②工程6.5.md ③工程7A.md | `工程7B_本文ブラッシュアップ版.md` |

### Phase 5: 仕上げ

| 工程 | 添付ファイル | 出力ファイル |
|-----|-------------|-------------|
| **8** | ①工程0.json ②工程5.json ③工程6.5.md ④工程7B.md | `工程8_ファクトチェック結果.json`<br>`工程8_FAQ統合版.md` |
| **9** | ①工程0.json ②工程5.json ③工程6.5.md ④工程8.json ⑤工程8_FAQ.md | `工程9_最終リライト版.md`<br>`工程9_修正レポート.json` |
| **10** | ①工程0.json ②工程6.5.md ③工程9.md ④工程9.json | `工程10_final_article.md`<br>`工程10_meta_info.json`<br>`工程10_publication_checklist.md`<br>`工程10_comprehensive_report.json` |
| **11** | ①工程0.json ②工程3A.json ③工程6.5.md ④工程10.md ⑤工程10.json | `工程11_推奨画像提案.md` |
| **12** | ①工程0.json ②工程6.5.md ③工程10.md ④工程10.json ⑤工程11.md | `工程12_WordPress用HTML.html` |

---

## 4. データフロー方式の理解

### 累積JSON方式（工程0〜6.5）
前工程までの**すべてのJSONファイル**を累積して添付します。
これにより、AIは過去の分析結果（ペルソナ、共起語、競合情報など）をすべて参照できます。

### 直接参照方式（工程7A〜12）
ファイル数が上限(10)を超えるため、バケツリレーを中断します。
その工程に必要なファイル（構成案、人間味素材、一次情報など）のみをピンポイントで添付します。

---

## 5. 入出力簡易表

| 工程 | Input | Output | 備考 |
|-----|-------|--------|------|
| **0** | (Prompt) | `.json` | 憲法となる重要ファイル |
| **1** | (GAS) | `.csv` | メインKWの競合情報 |
| **1.5** | 工程0 | `.json` | 関連KWの網羅 |
| **2** | 工程0,1,1.5 | (Report) | データクレンジング |
| **3A/B/C** | 工程0,1 | `.json` | 並列分析可能 |
| **3.5** | 6files | `.json` | 感情・エピソード生成 |
| **4** | 7files | `.json` | タイトル案作成 |
| **5** | 8files | `.json` | 知識補完 |
| **6** | 9files | `.json` | 構成最終調整 |
| **6.5** | **10files** | `.md` | ★全ファイル添付 |
| **7A** | 8files | `.md` | 執筆開始 |
| **7B** | 3files | `.md` | 推敲 |
| **8** | 4files | `.json` `.md` | ファクトチェック |
| **9** | 5files | `.md` `.json` | 最終品質向上 |
| **10** | 4files | `.md` 等 | **完成品出力** |
| **11** | 5files | `.md` | 画像プロンプト |
| **12** | 5files | `.html` | HTML化 |

---

## 6. よくあるトラブルと対処法

### GASが途中で止まる
**原因**: スクリプト実行時間が6分を超えた
**対処**: キーワード数を減らして分割実行、または `Utilities.sleep()` を挟む

### AIの出力が短い
**原因**: 指定文字数に達していない
**対処**: 「もっと詳しく書いて」「〇〇文字まで書いて」と追加指示

### ファイルが文字化けする
**原因**: エンコーディングの問題
**対処**: CSVはUTF-8で保存（Shift-JIS非推奨）

### 脚注番号が飛んでいる
**原因**: 途中の編集で番号がズレた
**対処**: 工程10で自動整理される。直らない場合は手動修正

### AIがファイル内容を忘れる
**原因**: コンテキスト長超過
**対処**: CSVの不要カラムを削除、工程2でデータを要約

---

## 7. 操作Tips

### 効率的な進め方
1. **工程3A/3B/3Cは並列処理可能** - 3つ同時に進めて時間短縮
2. **工程4以降は一気通貫OK** - 確認を挟まず連続実行も可能
3. **工程6.5が分岐点** - ここで全情報を構成案に集約

### 品質を上げるコツ
- **工程0は丁寧に** - ここが「憲法」となり全体の方向性が決まる
- **工程3.5を活用** - 人間味素材を本文に適切に散りばめる
- **工程10で脚注確認** - 番号が連番になっているかチェック

### ファイル管理のコツ
- 出力ファイルは指定のファイル名で保存
- 各工程フォルダに整理して保管
- 最終成果物は `工程10_final_article.md`

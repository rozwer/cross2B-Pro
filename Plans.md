# ダッシュボード モデル表示削除計画

> **作成日**: 2026-01-12
> **目的**: ワークフロービューからモデル情報（Gemini/Claude/OpenAI）を削除

---

## 背景・理由

- ステップごとに使用するモデルやプラットフォームが異なる
- モデル表示は視覚的なノイズになり、本質的な情報（進捗・状態）から注意をそらす
- ノードのデザインをシンプル化し、状態表示に集中させる

---

## 影響範囲

| ファイル | 変更内容 |
|---------|---------|
| `apps/ui/src/components/tabs/GraphViewTab.tsx` | モデル情報表示削除、凡例削除 |
| `apps/ui/src/components/workflow/WorkflowNode.tsx` | モデルバッジ削除 |
| `apps/ui/src/lib/types.ts` | `aiModel`, `modelName` 関連の型（維持 or 削除検討） |

---

## フェーズ 1: GraphViewTab.tsx の修正 `cc:TODO`

### 1.1 カスタムノードからモデル情報を削除

- [ ] `PLATFORM_COLORS` 定数を削除
- [ ] `CustomWorkflowNode` の「Model Info」セクション（L134-156）を削除
- [ ] ノードのスタイルからモデル色に依存した部分を削除

### 1.2 凡例（Legend）からモデル色を削除

- [ ] 凡例の「Gemini/Claude/OpenAI」の色表示（L641-654）を削除
- [ ] ステータスのみの凡例に変更

### 1.3 データ生成部分の整理

- [ ] `createNodes` 関数から `aiModel`, `modelName` を削除（不要な場合）
- [ ] `WorkflowNodeData` インターフェースを簡素化

---

## フェーズ 2: WorkflowNode.tsx の修正 `cc:TODO`

### 2.1 モデルバッジの削除

- [ ] `MODEL_COLORS` 定数を削除
- [ ] ヘッダー部分のモデル色依存スタイルを削除
- [ ] 「Model Badge」セクション（L127-144）を削除
- [ ] ノードの背景色を統一（ステータスのみで色分け）

### 2.2 型定義の調整

- [ ] `WorkflowNodeData` から `aiModel`, `modelName` を削除（または optional 化）

---

## フェーズ 3: 型定義の整理 `cc:TODO`

### 3.1 types.ts の確認

- [ ] `LLMPlatform` 型が他で使用されているか確認
- [ ] `StepConfig` から `aiModel`, `modelName` を削除可能か確認
- [ ] 必要なら deprecated マークを付けて段階的に移行

---

## フェーズ 4: テスト・確認 `cc:TODO`

- [ ] `npm run lint` でエラーがないことを確認
- [ ] `npx tsc --noEmit` で型エラーがないことを確認
- [ ] ブラウザでワークフロービューを確認
- [ ] ノードが正しく表示されることを確認
- [ ] ステータスの色分けが機能することを確認

---

## 完了基準

- [ ] ワークフローノードにモデル情報が表示されない
- [ ] 凡例にモデル色が表示されない
- [ ] ノードのスタイルが統一され、ステータスのみで色分けされる
- [ ] TypeScript エラーがない
- [ ] lint エラーがない

---

## デザイン案

変更前:
```
┌─────────────────────┐
│ 🔍 キーワード分析   │
├─────────────────────┤
│ キーワード候補を... │
│ ┌─────────────────┐ │
│ │ 🔵 Gemini 2.5   │ │ ← 削除対象
│ └─────────────────┘ │
│ ● completed         │
└─────────────────────┘
```

変更後:
```
┌─────────────────────┐
│ 🔍 キーワード分析   │
├─────────────────────┤
│ キーワード候補を... │
│ ● completed         │
└─────────────────────┘
```

---

## 次のアクション

- 「`/work`」で実装を開始
- または「フェーズ1から始めて」

{
  "pack_id": "default",
  "version": 1,
  "description": "SEO記事生成用デフォルトプロンプトパック",
  "prompts": {
    "step0": {
      "step": "step0",
      "version": 1,
      "content": "以下のキーワードを分析してください: {{keyword}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"keyword\": \"対象キーワード\",\n  \"search_intent\": \"検索意図の分析\",\n  \"difficulty\": \"難易度（low/medium/high）\",\n  \"suggested_topics\": [\"関連トピック1\", \"関連トピック2\"],\n  \"target_audience\": \"ターゲット読者層\"\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string",
          "description": "分析対象キーワード"
        }
      }
    },
    "step1": {
      "step": "step1",
      "version": 1,
      "content": "キーワード「{{keyword}}」で検索上位の競合を分析してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step2": {
      "step": "step2",
      "version": 1,
      "content": "収集したデータを検証してください。",
      "variables": {}
    },
    "step3a": {
      "step": "step3a",
      "version": 1,
      "content": "キーワード「{{keyword}}」のクエリ分析を行ってください。\nキーワード分析: {{keyword_analysis}}\n競合数: {{competitor_count}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"query_type\": \"クエリタイプ（informational/transactional/navigational）\",\n  \"user_intent\": \"ユーザーの意図\",\n  \"related_queries\": [\"関連クエリ1\", \"関連クエリ2\"],\n  \"content_format_suggestion\": \"推奨コンテンツ形式\"\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "keyword_analysis": {
          "required": false,
          "type": "string",
          "default": ""
        },
        "competitor_count": {
          "required": false,
          "type": "number",
          "default": 0
        }
      }
    },
    "step3b": {
      "step": "step3b",
      "version": 1,
      "content": "キーワード「{{keyword}}」の共起語分析を行ってください。\n競合サマリー: {{competitor_summaries}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"cooccurrence_keywords\": [\"共起語1\", \"共起語2\"],\n  \"semantic_clusters\": [{\"cluster\": \"クラスタ名\", \"keywords\": []}],\n  \"content_gaps\": [\"ギャップ1\"]\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "competitor_summaries": {
          "required": false,
          "type": "array",
          "default": []
        }
      }
    },
    "step3c": {
      "step": "step3c",
      "version": 1,
      "content": "キーワード「{{keyword}}」の競合分析を行ってください。\n競合情報: {{competitors}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"competitor_analysis\": [{\"url\": \"\", \"strengths\": [], \"weaknesses\": []}],\n  \"differentiation_opportunities\": [\"差別化ポイント\"],\n  \"recommended_word_count\": 3000\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "competitors": {
          "required": false,
          "type": "array",
          "default": []
        }
      }
    },
    "step3_5": {
      "step": "step3_5",
      "version": 1,
      "content": "あなたは、読者の心に響くコンテンツを作成する専門家です。\n\n## タスク\nキーワード「{{keyword}}」に関する記事に人間味を加えるための要素を生成してください。\n\n## 入力情報\n\n### ペルソナ情報\n{{persona}}\n\n### 競合分析からの洞察\n{{competitor_insights}}\n\n### 共起キーワード\n{{cooccurrence_keywords}}\n\n## 生成してほしい内容\n\n以下のJSON形式で出力してください：\n\n```json\n{\n  \"emotional_analysis\": {\n    \"primary_emotion\": \"読者が最も強く感じている感情（例：不安、期待、焦り）\",\n    \"secondary_emotions\": [\"副次的な感情1\", \"副次的な感情2\"],\n    \"pain_points\": [\"読者が抱える具体的な悩み1\", \"悩み2\", \"悩み3\"],\n    \"desires\": [\"読者が本当に望んでいること1\", \"望み2\", \"望み3\"]\n  },\n  \"human_touch_patterns\": [\n    {\n      \"type\": \"experience\",\n      \"content\": \"実際にありそうな体験談や状況描写\",\n      \"placement_suggestion\": \"導入部分\"\n    },\n    {\n      \"type\": \"emotion\",\n      \"content\": \"読者の感情に寄り添う表現\",\n      \"placement_suggestion\": \"問題提起の後\"\n    },\n    {\n      \"type\": \"empathy\",\n      \"content\": \"共感を示すフレーズ\",\n      \"placement_suggestion\": \"解決策の前\"\n    }\n  ],\n  \"experience_episodes\": [\n    {\n      \"scenario\": \"具体的なシチュエーション\",\n      \"narrative\": \"その状況での体験談（50-100文字）\",\n      \"lesson\": \"そこから得られる教訓\"\n    }\n  ],\n  \"emotional_hooks\": [\n    \"読者の注意を引く感情的なフック1\",\n    \"感情的なフック2\",\n    \"感情的なフック3\"\n  ]\n}\n```\n\n## 重要な注意事項\n1. 読者のペルソナに合わせた自然な表現を使用してください\n2. 過度に感情的にならず、信頼性を保ってください\n3. 具体的で共感しやすい状況を描写してください\n4. 競合との差別化ポイントを意識してください",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "persona": {
          "required": false,
          "type": "string",
          "default": ""
        },
        "competitor_insights": {
          "required": false,
          "type": "string",
          "default": ""
        },
        "cooccurrence_keywords": {
          "required": false,
          "type": "string",
          "default": ""
        }
      }
    },
    "step4": {
      "step": "step4",
      "version": 1,
      "content": "キーワード「{{keyword}}」の戦略的アウトライン（構成案）を作成してください。\n分析結果: {{analysis_summary}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"title\": \"記事タイトル案\",\n  \"outline\": [\n    {\"heading\": \"H2見出し\", \"subheadings\": [\"H3見出し1\", \"H3見出し2\"], \"key_points\": []}\n  ],\n  \"target_word_count\": 3000,\n  \"cta_positions\": [\"導入後\", \"結論前\"]\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "analysis_summary": {
          "required": false,
          "type": "string",
          "default": ""
        }
      }
    },
    "step5": {
      "step": "step5",
      "version": 1,
      "content": "キーワード「{{keyword}}」に関する一次情報を収集してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step5_queries": {
      "step": "step5_queries",
      "version": 1,
      "content": "あなたはSEO記事執筆のための情報収集エージェントです。\n\n## タスク\nキーワード「{{keyword}}」に関する記事を書くために、一次情報（統計データ、公式情報、専門家の見解など）を収集するための検索クエリを生成してください。\n\n## アウトライン\n{{outline}}\n\n## 出力形式\n以下のJSON形式のみを出力してください。説明文は不要です。\n\n{\"queries\": [\"SEO対策 統計データ 2024\", \"SEO 初心者 成功事例\", \"Google 検索アルゴリズム 公式\", \"SEO対策 効果 調査\", \"検索エンジン最適化 ガイドライン\"]}\n\n## 要件\n- 5〜8個の具体的な検索クエリを配列で出力\n- 信頼性の高い情報源を見つけるためのクエリにする\n- 日本語のクエリを優先",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "outline": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step6": {
      "step": "step6",
      "version": 1,
      "content": "アウトラインを一次情報で強化してください。\nキーワード: {{keyword}}\n基本アウトライン: {{outline}}\n一次情報: {{sources}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"enhanced_outline\": [\n    {\"heading\": \"\", \"subheadings\": [], \"sources\": [], \"key_points\": []}\n  ],\n  \"source_count\": 0,\n  \"coverage_score\": 0.8\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "outline": {
          "required": true,
          "type": "object"
        },
        "sources": {
          "required": false,
          "type": "array",
          "default": []
        }
      }
    },
    "step6_5": {
      "step": "step6_5",
      "version": 1,
      "content": "統合パッケージを作成してください。\nキーワード: {{keyword}}\nキーワード分析: {{keyword_analysis}}\nクエリ分析: {{query_analysis}}\n共起語分析: {{cooccurrence_analysis}}\n競合分析: {{competitor_analysis}}\n戦略的アウトライン: {{strategic_outline}}\n一次情報: {{sources}}\n強化アウトライン: {{enhanced_outline}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"integration_package\": \"統合パッケージ全文（Markdown形式の文字列）\",\n  \"outline_summary\": \"構成の概要\",\n  \"section_count\": 0,\n  \"total_sources\": 0\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "keyword_analysis": {
          "required": false,
          "type": "object",
          "default": {}
        },
        "query_analysis": {
          "required": false,
          "type": "object",
          "default": {}
        },
        "cooccurrence_analysis": {
          "required": false,
          "type": "object",
          "default": {}
        },
        "competitor_analysis": {
          "required": false,
          "type": "object",
          "default": {}
        },
        "strategic_outline": {
          "required": false,
          "type": "object",
          "default": {}
        },
        "sources": {
          "required": false,
          "type": "array",
          "default": []
        },
        "enhanced_outline": {
          "required": false,
          "type": "object",
          "default": {}
        }
      }
    },
    "step7a": {
      "step": "step7a",
      "version": 1,
      "content": "記事の初稿を作成してください。\nキーワード: {{keyword}}\n統合パッケージ:\n{{integration_package}}\n\nJSON形式で以下を出力:\n```json\n{\n  \"draft\": \"記事本文（Markdown形式）\",\n  \"word_count\": 0,\n  \"section_count\": 0,\n  \"cta_positions\": []\n}\n```",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "integration_package": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step7b": {
      "step": "step7b",
      "version": 2,
      "content": "初稿をブラッシュアップしてください。\nキーワード: {{keyword}}\n初稿:\n{{draft}}\n\n以下の観点で改善してください：\n1. 文章の流れと読みやすさ\n2. 専門用語の説明\n3. 具体例の追加\n4. SEO最適化（キーワードの自然な配置）\n\nブラッシュアップ後の記事本文をMarkdown形式でそのまま出力してください。\nJSONやコードブロックで囲まないでください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "draft": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step8": {
      "step": "step8",
      "version": 1,
      "content": "ファクトチェックを行ってください。\nキーワード: {{keyword}}\n記事:\n{{polished}}\n\n矛盾や誤りがあれば指摘してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "polished": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step8_claims": {
      "step": "step8_claims",
      "version": 1,
      "content": "以下の記事から事実確認が必要な主張・クレームを抽出してください。\n\n記事内容:\n{{content}}\n\n各主張を箇条書きで出力してください。",
      "variables": {
        "content": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step8_verify": {
      "step": "step8_verify",
      "version": 1,
      "content": "以下の主張を検証してください。\nキーワード: {{keyword}}\n\n主張一覧:\n{{claims}}\n\n各主張について、正確性を評価し、矛盾があれば指摘してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "claims": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step8_faq": {
      "step": "step8_faq",
      "version": 1,
      "content": "キーワード「{{keyword}}」に関するFAQセクションを生成してください。\n\n検証結果:\n{{verification}}\n\nよくある質問と回答を5つ程度、Markdown形式で出力してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "verification": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step9": {
      "step": "step9",
      "version": 2,
      "content": "最終リライトを行ってください。\nキーワード: {{keyword}}\nブラッシュアップ後の記事:\n{{polished_content}}\n\nFAQ:\n{{faq}}\n\n検証メモ:\n{{verification_notes}}\n\n最終版の記事をMarkdown形式でそのまま出力してください。\nJSONやコードブロックで囲まないでください。\nFAQセクションを適切な位置に統合してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "polished_content": {
          "required": true,
          "type": "string"
        },
        "faq": {
          "required": false,
          "type": "string",
          "default": ""
        },
        "verification_notes": {
          "required": false,
          "type": "string",
          "default": ""
        }
      }
    },
    "step10": {
      "step": "step10",
      "version": 1,
      "content": "最終記事をHTML形式で出力してください。\nキーワード: {{keyword}}\n記事本文:\n{{final_content}}\nメタディスクリプション: {{meta_description}}\n\n完全なHTMLドキュメントを出力してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "final_content": {
          "required": true,
          "type": "string"
        },
        "meta_description": {
          "required": false,
          "type": "string",
          "default": ""
        }
      }
    },
    "step10_html": {
      "step": "step10_html",
      "version": 2,
      "content": "以下の記事コンテンツを完全なHTMLドキュメントに変換してください。\nキーワード: {{keyword}}\n\n記事コンテンツ:\n{{content}}\n\n## 重要な要件\n1. 必ず完全なHTML文書を出力してください\n2. 以下の構造を必ず含めてください：\n   - <!DOCTYPE html>\n   - <html lang=\"ja\">で開始し、</html>で終了\n   - <head>セクション（<title>, <meta charset>, <meta description>を含む）\n   - <body>セクション\n3. すべてのタグは必ず閉じてください\n4. SEO最適化されたメタタグを含めてください\n\nHTMLコードのみを出力し、説明文は不要です。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "content": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step10_checklist": {
      "step": "step10_checklist",
      "version": 1,
      "content": "キーワード「{{keyword}}」の記事を公開する前の最終チェックリストを生成してください。\n\nSEO、品質、技術的な観点からのチェック項目を箇条書きで出力してください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step10_article_variation": {
      "step": "step10_article_variation",
      "version": 1,
      "content": "あなたはSEO記事のバリエーション生成の専門家です。\n\n## タスク\nキーワード「{{keyword}}」に関する記事を、指定されたバリエーションタイプに合わせて生成してください。\n\n## ベース記事\n以下は元となる記事（メイン記事）です:\n\n{{base_content}}\n\n## バリエーション情報\n- **記事番号**: {{article_number}}\n- **バリエーションタイプ**: {{variation_type}}\n- **ターゲット読者**: {{target_audience}}\n- **目標文字数**: {{target_word_count_min}}〜{{target_word_count_max}}文字\n\n## 前の記事の要約（重複回避用）\n{{previous_summaries}}\n\n## バリエーション別の指示\n\n### メイン記事（記事1）\n- 最も包括的で詳細な記事\n- すべての重要なトピックをカバー\n- 専門的な深掘りも含む\n- 目標: 5000-8000文字\n\n### 初心者向け（記事2）\n- 基礎から丁寧に説明\n- 専門用語は必ず解説を付ける\n- ステップバイステップで分かりやすく\n- 前提知識がなくても理解できる構成\n- 目標: 3000-5000文字\n\n### 実践編（記事3）\n- 具体的なアクションにフォーカス\n- ハウツー形式で実行可能な手順を提示\n- 実例やケーススタディを多用\n- すぐに実践できる内容\n- 目標: 4000-6000文字\n\n### まとめ・比較（記事4）\n- 要点を簡潔にまとめた記事\n- 比較表やリストを活用\n- クイックリファレンスとして使える\n- 重要ポイントを箇条書きで整理\n- 目標: 2000-3000文字\n\n## 重要な注意事項\n1. 前の記事と内容が重複しないよう、切り口を変えてください\n2. 各バリエーションの特性を活かした独自の価値を提供してください\n3. SEOキーワードは自然に配置してください\n4. Markdown形式で出力してください\n5. タイトルは必ずH1（#）で始めてください\n\n## 出力形式\nMarkdown形式の記事本文のみを出力してください。\nJSONやコードブロックで囲まないでください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string"
        },
        "base_content": {
          "required": true,
          "type": "string",
          "description": "ベースとなるメイン記事のコンテンツ"
        },
        "article_number": {
          "required": true,
          "type": "number",
          "description": "記事番号（1-4）"
        },
        "variation_type": {
          "required": true,
          "type": "string",
          "description": "バリエーションタイプ（メイン記事/初心者向け/実践編/まとめ・比較）"
        },
        "target_audience": {
          "required": true,
          "type": "string",
          "description": "ターゲット読者層"
        },
        "target_word_count_min": {
          "required": true,
          "type": "number",
          "description": "目標文字数（最小）"
        },
        "target_word_count_max": {
          "required": true,
          "type": "number",
          "description": "目標文字数（最大）"
        },
        "previous_summaries": {
          "required": false,
          "type": "string",
          "default": "（最初の記事のため、前の記事はありません）",
          "description": "前に生成した記事の要約（重複回避用）"
        }
      }
    },
    "step10_article_summary": {
      "step": "step10_article_summary",
      "version": 1,
      "content": "以下の記事を200文字程度で要約してください。次の記事生成時の重複回避に使用します。\n\n記事内容:\n{{content}}\n\n要約のみを出力してください。",
      "variables": {
        "content": {
          "required": true,
          "type": "string"
        }
      }
    },
    "step12": {
      "step": "step12",
      "version": 1,
      "content": "あなたはWordPress用HTMLの構造化エキスパートです。\n\n## タスク\n以下の記事コンテンツをWordPress Gutenbergエディタで使用可能な形式に変換してください。\n\n## 入力情報\n\n### キーワード\n{{keyword}}\n\n### 記事タイトル\n{{article_title}}\n\n### 記事コンテンツ（Markdown/HTML）\n{{article_content}}\n\n### 画像情報\n{{image_placements}}\n\n### SEOメタデータ\n- メタディスクリプション: {{meta_description}}\n- フォーカスキーワード: {{focus_keyword}}\n\n## 出力要件\n\n1. **Gutenbergブロック形式**\n   - 各要素をWordPressのブロックコメントでラップ\n   - 例: `<!-- wp:paragraph --><p>...</p><!-- /wp:paragraph -->`\n\n2. **対応ブロックタイプ**\n   - `wp:heading` - 見出し（level属性でh1-h6を指定）\n   - `wp:paragraph` - 段落\n   - `wp:list` - リスト（ordered属性で番号付き）\n   - `wp:image` - 画像（sizeSlug, alt属性）\n   - `wp:quote` - 引用\n   - `wp:table` - テーブル\n\n3. **SEO最適化**\n   - 適切な見出し階層（h1→h2→h3）\n   - 画像のalt属性を必ず設定\n   - 内部リンク用のアンカーポイント\n\n4. **レスポンシブ対応**\n   - 画像に`size-large`クラスを適用\n   - テーブルに`is-style-stripes`を適用\n\n## 出力形式\nGutenbergブロック形式のHTMLのみを出力してください。\n説明文やコードブロックで囲まないでください。",
      "variables": {
        "keyword": {
          "required": true,
          "type": "string",
          "description": "対象キーワード"
        },
        "article_title": {
          "required": true,
          "type": "string",
          "description": "記事タイトル"
        },
        "article_content": {
          "required": true,
          "type": "string",
          "description": "記事コンテンツ（Markdown/HTML）"
        },
        "image_placements": {
          "required": false,
          "type": "string",
          "default": "",
          "description": "画像配置情報（JSON文字列）"
        },
        "meta_description": {
          "required": false,
          "type": "string",
          "default": "",
          "description": "メタディスクリプション"
        },
        "focus_keyword": {
          "required": false,
          "type": "string",
          "default": "",
          "description": "フォーカスキーワード"
        }
      }
    }
  }
}

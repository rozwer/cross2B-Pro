# SEO記事生成システム品質比較レポート

> **評価日**: 2026-02-03
> **評価者**: Claude Code (品質評価タスク)

---

## 概要

手動生成の良記事（リポジトリ `/tmp/blog-articles/` 内）と、現在のシステムで生成した記事を比較評価した。

### 評価対象キーワード

| # | キーワード | Run ID |
|---|-----------|--------|
| 1 | ドライバー 採用 難しい | c43cadf2-7969-4bc2-8c1d-166be7238371 |
| 2 | 従業員 募集 こない | c6445773-8f0c-4a5d-a5fe-fd229b3cc05f |
| 3 | 自動車整備士 採用難しい | 67c73686-f144-42a5-b52c-96e02c1e04e6 |
| 4 | 営業 採用 難しい | ca9bed12-f1fd-41a6-95b3-43e3fe74c238 |

---

## 定量評価

### 文字数比較

| キーワード | 元記事 | 生成記事 | 差分 | 割合 |
|-----------|--------|---------|------|------|
| ドライバー 採用 難しい | 19,533B | 17,916B | -1,617B | 92% |
| 従業員 募集 こない | 18,735B | 20,481B | +1,746B | 109% |
| 自動車整備士 採用難しい | 45,331B | 29,069B | -16,262B | 64% |
| 営業 採用 難しい | 27,848B | 33,946B | +6,098B | 122% |

**考察**:
- 「自動車整備士」のみ元記事より大幅に短い（36%減）
- 他の3キーワードは概ね同等またはやや長い

### 見出し構造比較

| キーワード | 元H2 | 生成H2 | 元H3 | 生成H3 |
|-----------|------|--------|------|--------|
| ドライバー 採用 難しい | 9 | 4 | 21 | 18 |
| 従業員 募集 こない | 9 | 3 | 15 | 22 |
| 自動車整備士 採用難しい | 15 | 5 | 36 | 10 |
| 営業 採用 難しい | 15 | 18 | 32 | 0 |

**考察**:
- 元記事に比べてH2（大見出し）が少ない傾向
- 「営業」ではH3が0になっている（構造上の問題の可能性）

---

## 定性評価

### キーワード1: ドライバー 採用 難しい

#### 元記事の特徴
- **導入部**: 脳科学・行動経済学のフレームワークを提示（差別化）
- **構成**: 「課題認識→メカニズム解明→解決策→実践」の論理的構造
- **データ活用**: 厚労省の有効求人倍率を具体的に引用
- **CTA**: 自然な導線で問い合わせへ誘導

#### 生成記事の特徴
- **導入部**: 読者の痛みに共感するアプローチ（悪くない）
- **構成**: 「現状→戦略7つ→定着施策」の実践的構造
- **データ活用**: 国土交通省リンクあるが具体数値が薄い
- **CTA**: 記事内に確認できなかった

#### 差異分析

| 評価項目 | 元記事 | 生成記事 | 評価 |
|---------|--------|---------|------|
| 導入部の訴求力 | 脳科学で差別化、権威性 | 共感型、汎用的 | 元 > 生成 |
| データ・根拠 | 具体的数値（2.59倍） | 一般的言及のみ | 元 > 生成 |
| 構成の網羅性 | 戦略・実践・ツール活用 | 戦略・定着策 | 元 ≒ 生成 |
| CTA配置 | 適切な位置 | 未確認 | 元 > 生成 |
| 読みやすさ | 図解提案あり | Before/After例あり | 元 ≒ 生成 |

---

### キーワード2: 従業員 募集 こない

（詳細評価は別途実施）

---

### キーワード3: 自動車整備士 採用難しい

- **元記事**: 45KB（非常に詳細）
- **生成記事**: 29KB（36%減）
- step8でファクトチェック失敗→リトライ後に完了

（詳細評価は別途実施）

---

### キーワード4: 営業 採用 難しい

- H3が0という構造上の問題あり

（詳細評価は別途実施）

---

## システム実行結果

### 処理時間

| キーワード | 開始時刻 | 完了時刻 | 所要時間 |
|-----------|---------|---------|---------|
| ドライバー 採用 難しい | 11:36:46 | 11:52:15 | ~16分 |
| 従業員 募集 こない | 11:36:46 | 11:52:40 | ~16分 |
| 自動車整備士 採用難しい | 11:36:46 | 11:56:51 | ~20分（リトライあり）|
| 営業 採用 難しい | 11:36:46 | 11:51:41 | ~15分 |

### エラー発生

| キーワード | ステップ | エラー内容 |
|-----------|---------|-----------|
| 自動車整備士 採用難しい | step8 | `No claims extracted from content - LLM output parsing failed` (retryable) |

---

## 改善提案

### 1. H2/H3構造の最適化

**問題**: 生成記事の見出し数が元記事より少ない傾向
**原因候補**: アウトライン生成（step4/step6）のプロンプト設計
**改善案**:
- 競合記事の見出し数を参照してターゲット設定
- 最小H2数を明示的に指定

### 2. CTA配置の確認

**問題**: 生成記事でCTAが確認できなかった
**原因候補**: step9（リライト）でCTA削除された可能性
**改善案**:
- CTA配置をバリデーションに追加
- step10で最終確認

### 3. データ引用の強化

**問題**: 具体的な数値データが薄い
**原因候補**: step5（一次情報収集）の粒度
**改善案**:
- 検索グラウンディングで最新統計を取得
- 引用元URLを必須化

### 4. step8エラーの安定化

**問題**: ファクトチェックでパース失敗
**原因候補**: LLMレスポンスのJSON形式不正
**改善案**:
- リトライ時のプロンプト修正
- 出力フォーマットをより明示的に

---

## 品質改善実施結果（2026-02-17）

キーワード「ドライバー 採用 難しい」(Run ID: `c43cadf2`) を対象に、各ステップの出力を元記事と比較し、プロンプト修正・再実行を行った。

### 改善済みステップ一覧

| ステップ | 改善前 | 改善後 | 主な改善内容 |
|---------|--------|--------|-------------|
| Step0 | 10/50 | 40/50 | 4本柱評価・CTA設計を追加 |
| Step3b | 0 KW | 105+50+10 KW | モデル変更(→gemini-3-pro)、JSON truncation修正 |
| Step3.5 | 23/50 | 35/50 | human_touch 3→9、behavioral_hooks 0/4→4/4 |
| Step4 | h2=4 | h2=9, h3=32 | H2数明示指示、Markdown形式出力 |
| Step5 | 25 URLs(all invalid) | - | 外部データ問題のためスキップ |
| Step6 | h2=0 | h2=9, h3=32 | Step4改善データで再構築 |
| Step6.5 | - | 統合パッケージ完成 | 4本柱・emotional_analysis統合 |
| Step7a | 6,219 chars | 10,636 chars | データ破損修正、continuation結合 |
| Step7b | 7,537 chars | 12,442 chars | 新Step7aドラフトで再研磨 |
| Step8 | 9 claims(66%検証) | 8 claims(75%検証) | 新Step7bで再実行、FAQ 13項目 |
| Step9 | 9,504 chars(score:0.91) | 12,392 chars(score:0.92) | 新データで再実行、4本柱準拠 |

### 改善後の定量比較

| 項目 | 元記事 | 改善前 | 改善後 |
|------|--------|--------|--------|
| 文字数 | ~19,533 | 6,219 (Step7a) | 12,392 (Step9 final) |
| H2数 | 9 | 4 | 10 |
| CTA | 3箇所 | 0 | 14+ indicators |
| 脳科学用語 | 多数 | 少 | 扁桃体1, ドーパミン4 |
| 行動経済学 | 6原則 | 0 | 損失回避1, 社会的証明1, 権威性1 |
| FAQ | 複数 | 0 | 13項目 |
| 品質スコア | - | 0.91 | 0.924 |

### 発見された技術的問題

1. **Step7a データ破損**: continuation生成時にJSON出力がdraftフィールドに混入。手動で修正済み。
2. **gemini-2.0-flash 出力制限**: 8,192トークンで切断。gemini-2.5-flashへの移行で改善。
3. **Step7b 文字数減少**: LLMがpolish時に大幅圧縮する傾向。3分割polishで91%維持を達成。
4. **Step5 URL検証失敗**: Google Search Grounding結果のURL検証が全件失敗。外部ツール依存の問題。
5. **Step12 フィールド名不一致**: `html`でなく`html_content`にHTMLが格納。コード上は正常。

### Phase 4 実施結果（2026-02-17）

改善済みStep9データ（12,392 chars, quality 0.924）でStep10-12を再実行。

#### Step10 再実行結果

| 記事# | タイプ | 文字数 | H2 | H3 | 旧文字数 |
|-------|--------|--------|----|----|---------|
| 1 | メイン記事 | 18,323 | 9 | 2 | 6,630 |
| 2 | 初心者向け | 11,892 | 8 | 18 | 4,206 |
| 3 | 実践編 | 10,361 | 4 | 20 | 6,914 |
| 4 | まとめ・比較 | 5,405 | 5 | 3 | 9,294 |
| **合計** | | **45,981** | | | **27,044** |

**改善点**:
- 合計文字数 170% 増（27K→46K）
- メイン記事が旧版の2.76倍に増加（6,630→18,323）
- 全記事にCTA要素・4本柱フレームワークを反映
- 重複回避のため各記事生成前に前記事の要約を参照

**技術的問題**:
- gemini-2.5-flash で記事3生成時に大量空白文字の異常出力が発生。再生成で解決。

#### Step12 再実行結果

| 記事# | Gutenberg HTML | ブロックタイプ | 可読性 |
|-------|---------------|---------------|--------|
| 1 | 24,276 chars | heading, list, paragraph | ok |
| 2 | 17,006 chars | heading, paragraph | good |
| 3 | 14,863 chars | heading, list, paragraph | good |
| 4 | 7,268 chars | heading, paragraph | good |

- FAQ構造化データ（13項目）を記事1に付与
- Yoast SEO メタデータ生成済み
- パンくずリスト構造化データ付与

### 残タスク

1. [x] Phase 1-3: Steps 0-9 品質改善完了
2. [x] Phase 4: Step10-12の再実行完了
3. [x] Step1 heading抽出コード修正（`_extract_text_from_html`にh2/h3抽出を追加）
4. [x] Step5 URL検証ロジック修正（`status`→`is_accessible`フィールド名修正 + 検証失敗時のソース除外を防止）
5. [ ] Phase 5: 残り3キーワードへの横展開

---

## 参照ファイル

| 項目 | パス |
|------|------|
| 元記事リポジトリ | `/tmp/blog-articles/` |
| 生成記事 | `仕様書/評価/<キーワード>/生成記事.md` |
| 元記事コピー | `仕様書/評価/<キーワード>/元記事.md` |
| Run IDs | `仕様書/評価/run_ids.json` |
| 改善計画 | `Plans.md` |

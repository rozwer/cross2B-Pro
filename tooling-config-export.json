{
  "exportedAt": "2026-01-26T14:25:00+09:00",
  "description": "Development tooling configuration export for SEO Article Generation System",
  "version": "1.1.0",

  "mise": {
    "file": ".mise.toml",
    "config": {
      "tools": {
        "python": "3.12",
        "node": "22",
        "bun": "1.3"
      }
    },
    "notes": [
      "Runtime version manager (nvm/pyenv/fnm は廃止)",
      "Activate: eval \"$(mise activate bash)\" or zsh",
      "Install: curl https://mise.run | sh",
      "Initial setup: mise trust && mise install"
    ]
  },

  "biome": {
    "file": "apps/ui/biome.json",
    "version": "2.3.12",
    "config": {
      "$schema": "https://biomejs.dev/schemas/2.3.12/schema.json",
      "assist": {
        "actions": {
          "source": {
            "organizeImports": "on"
          }
        }
      },
      "formatter": {
        "enabled": true,
        "indentStyle": "space",
        "indentWidth": 2,
        "lineWidth": 100
      },
      "linter": {
        "enabled": false
      },
      "javascript": {
        "formatter": {
          "quoteStyle": "double",
          "semicolons": "always",
          "trailingCommas": "es5"
        }
      },
      "files": {
        "includes": ["**", "!**/node_modules", "!**/.next", "!**/dist"]
      }
    },
    "notes": [
      "Phase 1: Formatter only (linter disabled)",
      "ESLint retained for Next.js-specific rules",
      "Run: npm run format (in apps/ui)"
    ]
  },

  "lefthook": {
    "file": "lefthook.yml",
    "version": "2.0.15",
    "config": {
      "pre-commit": {
        "parallel": true,
        "commands": {
          "secrets": {
            "run": "bash .lefthook/check-secrets.sh {staged_files}",
            "glob": "*"
          },
          "ruff-check": {
            "glob": "*.py",
            "run": "ruff check {staged_files} --fix",
            "stage_fixed": true
          },
          "ruff-format": {
            "glob": "*.py",
            "run": "ruff format {staged_files}",
            "stage_fixed": true
          },
          "mypy": {
            "glob": "*.py",
            "run": "mypy {staged_files} --ignore-missing-imports || true"
          },
          "biome": {
            "glob": "apps/ui/**/*.{ts,tsx}",
            "run": "mise exec -- npx biome format --write --config-path apps/ui/biome.json {staged_files}",
            "stage_fixed": true
          },
          "tsc": {
            "glob": "apps/ui/**/*.{ts,tsx}",
            "run": "cd apps/ui && mise exec -- npx tsc --noEmit || true"
          },
          "json": {
            "glob": "*.json",
            "run": "for f in {staged_files}; do python3 -m json.tool \"$f\" > /dev/null || exit 1; done"
          }
        }
      },
      "prepare-commit-msg": {
        "commands": {
          "prefix": {
            "run": "bash .lefthook/prepare-commit-msg.sh {1}"
          }
        }
      },
      "commit-msg": {
        "commands": {
          "conventional": {
            "run": "bash .lefthook/commit-msg.sh {1}"
          }
        }
      },
      "pre-push": {
        "commands": {
          "protected-branch": {
            "run": "bash .lefthook/check-protected-branch.sh"
          },
          "smoke": {
            "run": "uv run pytest tests/smoke/ -q --tb=no || echo \"Smoke tests skipped\""
          }
        }
      }
    }
  },

  "helperScripts": {
    "directory": ".lefthook/",
    "scripts": {
      "check-secrets.sh": {
        "purpose": "Detect secrets and sensitive data in staged files",
        "patterns": ["OPENAI_API_KEY", "ANTHROPIC_API_KEY", "GEMINI_API_KEY", "AWS_SECRET_ACCESS_KEY"]
      },
      "prepare-commit-msg.sh": {
        "purpose": "Auto-generate Conventional Commits prefix from branch name",
        "mapping": {
          "feat/*": "feat(scope): ",
          "fix/*": "fix(scope): "
        }
      },
      "commit-msg.sh": {
        "purpose": "Enforce Conventional Commits format"
      },
      "check-protected-branch.sh": {
        "purpose": "Block direct push to main/master"
      }
    }
  },

  "delta": {
    "version": "0.16.5",
    "gitConfig": {
      "core.pager": "delta",
      "interactive.diffFilter": "delta --color-only",
      "delta.navigate": true,
      "delta.light": false,
      "delta.line-numbers": true
    },
    "notes": [
      "Enhanced git diff viewer",
      "Install: brew install git-delta (macOS) / apt install git-delta (Ubuntu)"
    ]
  },

  "existingTools": {
    "python": {
      "linter": "ruff",
      "formatter": "ruff",
      "typeChecker": "mypy",
      "packageManager": "uv",
      "config": "pyproject.toml"
    },
    "typescript": {
      "linter": "eslint (Next.js rules only)",
      "formatter": "biome",
      "typeChecker": "tsc",
      "packageManager": "npm",
      "config": "apps/ui/tsconfig.json"
    }
  },

  "packageDependencies": {
    "root": {
      "lefthook": "^2.0.15",
      "md-to-pdf": "^5.2.5"
    },
    "apps/ui": {
      "@biomejs/biome": "^2.3.12"
    }
  },

  "phase2Plans": [
    "Remove '|| true' from mypy hook",
    "Remove '|| true' from tsc hook",
    "Enable Biome linter (replace ESLint)",
    "Add CI enforcement for all checks"
  ]
}
